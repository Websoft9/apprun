basePath: /api
definitions:
  config.ErrorResponse:
    properties:
      details:
        example: ""
        type: string
      error:
        example: missing 'key' query parameter
        type: string
    type: object
  config.GetConfigResponse:
    properties:
      is_dynamic:
        description: Whether it's a dynamic configuration
        example: false
        type: boolean
      key:
        description: Configuration key
        example: app.name
        type: string
      source:
        description: 'Source: "database", "file", "env", "default"'
        example: default
        type: string
      value:
        description: Configuration value
        example: apprun
        type: string
    type: object
  config.ListConfigsResponse:
    properties:
      configs:
        additionalProperties:
          type: string
        description: Key-value mapping of dynamic configurations
        type: object
      count:
        description: Number of configuration items
        example: 3
        type: integer
    type: object
  config.UpdateConfigRequest:
    properties:
      key:
        description: Configuration key
        example: poc.enabled
        type: string
      value:
        description: New value
        example: "true"
        type: string
    required:
    - key
    - value
    type: object
  config.UpdateConfigResponse:
    properties:
      key:
        example: poc.enabled
        type: string
      message:
        example: config updated successfully
        type: string
      success:
        example: true
        type: boolean
      value:
        example: "true"
        type: string
    type: object
info:
  contact:
    email: support@websoft9.com
    name: API Support
  description: AppRun Platform REST API Documentation
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: AppRun API
  version: "1.0"
paths:
  /config:
    delete:
      consumes:
      - application/json
      description: Delete a dynamic configuration item from database (config will
        fallback to file or default value)
      parameters:
      - description: Configuration key
        in: query
        name: key
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Deletion successful
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Missing key parameter or deletion failed
          schema:
            $ref: '#/definitions/config.ErrorResponse'
      summary: Delete configuration item
      tags:
      - config
    get:
      consumes:
      - application/json
      description: Query a single configuration item by key, returns value, source
        and dynamic flag
      parameters:
      - description: Configuration key, e.g. app.name
        in: query
        name: key
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Configuration retrieved successfully
          schema:
            $ref: '#/definitions/config.GetConfigResponse'
        "400":
          description: Missing key parameter
          schema:
            $ref: '#/definitions/config.ErrorResponse'
        "404":
          description: Configuration not found
          schema:
            $ref: '#/definitions/config.ErrorResponse'
      summary: Get configuration item
      tags:
      - config
    put:
      consumes:
      - application/json
      description: Update a single dynamic configuration item (only for db:true configs)
      parameters:
      - description: Configuration update request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/config.UpdateConfigRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Configuration updated successfully
          schema:
            $ref: '#/definitions/config.UpdateConfigResponse'
        "400":
          description: Invalid request or config not allowed to store in database
          schema:
            $ref: '#/definitions/config.ErrorResponse'
      summary: Update configuration item
      tags:
      - config
  /config/allowed:
    get:
      consumes:
      - application/json
      description: Returns all configuration keys marked as db:true (can be modified
        dynamically via API)
      produces:
      - application/json
      responses:
        "200":
          description: List of allowed configuration keys
          schema:
            additionalProperties: true
            type: object
      summary: Get allowed configuration keys
      tags:
      - config
  /config/list:
    get:
      consumes:
      - application/json
      description: Returns all dynamic configuration items stored in database
      produces:
      - application/json
      responses:
        "200":
          description: Configuration list
          schema:
            $ref: '#/definitions/config.ListConfigsResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/config.ErrorResponse'
      summary: List dynamic configurations
      tags:
      - config
schemes:
- http
- https
swagger: "2.0"
